<div class="row main-form-bg">
    <div class="ibox-content m-b-sm ">

        <fieldset class="margin-b20" [hidden]="showHideGuarantorElements">
            <legend>Search Criteria</legend>
            <div class="row">
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <label class="control-label">Last Name</label>
                    <input type="text" id="lName" placeholder=""  [(ngModel)]="SearchCriteria.Response.Guarant_Lname"
                        onkeypress="return (event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122) || (event.keyCode == 8) || (event.keyCode == 9)||(event.keyCode == 37) || (event.keyCode == 39)"
                        class="form-control" (keydown)="searchGurantorbyKey($event)">
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <label class="control-label">First Name</label>
                    <input type="text" placeholder="" [(ngModel)]="SearchCriteria.Response.Guarant_Fname"
                        onkeypress="return (event.charCode >= 65 && event.keyCode <= 90) || (event.charCode >= 97 && event.keyCode <= 122) || (event.keyCode == 8) || (event.keyCode == 9)"
                        class="form-control" (keydown)="searchGurantorbyKey($event)">
                </div>
                <div class="col-lg-2 col-md-3 form-group">
                    <label class="control-label">City</label>
                    <input type="text" placeholder="" [(ngModel)]="SearchCriteria.Response.Guarant_City"
                        onkeypress="return (event.charCode >= 65 && event.keyCode <= 90) || (event.charCode >= 97 && event.keyCode <= 122) || (event.keyCode == 8) || (event.keyCode == 9)"
                        class="form-control" (keydown)="searchGurantorbyKey($event)">
                </div>
                <div class="col-lg-1 col-md-3 form-group">
                    <label class="control-label">State</label>
                    <input type="text" placeholder="" maxlength="2" [(ngModel)]="SearchCriteria.Response.Guarant_State"
                        onkeypress="return (event.charCode >= 65 && event.keyCode <= 90) || (event.charCode >= 97 && event.keyCode <= 122) || (event.keyCode == 8) || (event.keyCode == 9)"
                        class="form-control" (keydown)="searchGurantorbyKey($event)">
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <label class="control-label">ZIP</label>
                    <input type="text" placeholder="_____-____" maxlength="9"
                        [(ngModel)]="SearchCriteria.Response.Guarant_Zip"
                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57) || (event.keyCode == 8) || (event.keyCode == 9)"
                        class="form-control" #zip (keydown)="searchGurantorbyKey($event)">
                </div>
                <div class="col-sm-3 col-md-3 col-lg-6">
                    <label class="control-label">Address</label>
                    <input type="text" placeholder="" [(ngModel)]="SearchCriteria.Response.Guarant_Address"
                        class="form-control" (keydown)="searchGurantorbyKey($event)">
                </div>
                <div class="col-lg-2 col-md-3 form-group">
                    <label class="control-label">Home Phone</label>
                    <input type="text" id="hmph" maxlength="15" mask="(000) 000 00 00" #phone
                        placeholder="(___) ___-____" [(ngModel)]="SearchCriteria.Response.Guarant_Home_Phone"
                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57) || (event.keyCode == 8) || (event.keyCode == 9)"
                        class="form-control" (keydown)="searchGurantorbyKey($event)">
                </div>
                <div class="col-md-2 pl0 pr0">
                    <label class="control-label">DOB</label>
                    <my-date-picker [options]="myDatePickerOptions" (keyup)="dateMaskGS($event)"
                        [placeholder]="placeholderGS" [selDate]="SearchCriteria.Response.Guarant_Dob" required
                        (dateChanged)="onDateChangedDOB($event)">
                    </my-date-picker>
                </div>

                <div class="form-group col-md-12  right-full row">
                    <div class="col-smd-12 text-right m-t-md pl0" pr0>
                        <button class="btn btn-primary" type="submit" (click)="EnableDisableModifierElements('New')"
                            *ngIf="!isEdit" style="float:left;">Add New Guarantor</button>
                        <button class="btn btn-white" type="submit" (click)="searchGurantor()">Search</button>
                        <button class="btn btn-primary" (click)="EnableDisableModifierElements('Clear')"
                            type="reset">Clear</button>
                    </div>
                </div>
            </div>
        </fieldset>
        <fieldset class="margin-b20" [hidden]="!showHideGuarantorElements">
            <legend>New Guarantor Setup</legend>
            <div class="row">
                <div class="col-md-3 form-group">
                    <label class="control-label">Guarantor ID</label>
                    <input type="text" placeholder="" class="form-control"
                        [(ngModel)]="GurantorModel.Response.Guarantor_Code" disabled>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <label class="control-label">Last Name<sup class="text-danger">*</sup></label>
                    <input type="text" placeholder="" id="lastName" class="form-control" maxlength="20"
                        [(ngModel)]="GurantorModel.Response.Guarant_Lname"
                        (ngModelChange)="GurantorModel.Response.Guarant_Lname = GurantorModel.Response.Guarant_Lname.toUpperCase()"
                        onkeypress="return (event.charCode >= 65 && event.keyCode <= 90) || (event.charCode >= 97 && event.keyCode <= 122) || (event.keyCode == 8) || (event.keyCode == 9)">
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <label class="control-label">First Name<sup class="text-danger">*</sup></label>
                    <input type="text" placeholder="" id="FName" class="form-control" maxlength="20"
                        [(ngModel)]="GurantorModel.Response.Guarant_Fname"
                        (ngModelChange)="GurantorModel.Response.Guarant_Fname = GurantorModel.Response.Guarant_Fname.toUpperCase()"

                        onkeypress="return (event.charCode >= 65 && event.keyCode <= 90) || (event.charCode >= 97 && event.keyCode <= 122) || (event.keyCode == 8) || (event.keyCode == 9)">
                </div>
                <div class="col-lg-1 col-md-3 form-group">
                    <label class="control-label">MI</label>
                    <input type="text" placeholder="" id="Gender" class="form-control" maxlength="1"
                        [(ngModel)]="GurantorModel.Response.Guarant_Mi"
                        (ngModelChange)="GurantorModel.Response.Guarant_Mi = GurantorModel.Response.Guarant_Mi.toUpperCase()"

                        onkeypress="return (event.charCode >= 65 && event.keyCode <= 90) || (event.charCode >= 97 && event.keyCode <= 122) || (event.keyCode == 8) || (event.keyCode == 9)">
                </div>
                <div class="col-sm-3 col-md-3 col-lg-2">
                    <label class="control-label">Gender<sup class="text-danger">*</sup></label>
                    <select class="form-control" [(ngModel)]="GurantorModel.Response.Guarant_Gender">
                        <option>Male</option>
                        <option>Female</option>
                    </select>
                </div>

                <div class="col-sm-3 col-md-3 col-lg-5">
                    <label class="control-label">Address<sup class="text-danger">*</sup></label>
                    <input type="text" placeholder="" id="Address" class="form-control" maxlength="300"
                        [(ngModel)]="GurantorModel.Response.Guarant_Address"
                        (ngModelChange)="GurantorModel.Response.Guarant_Address = GurantorModel.Response.Guarant_Address.toUpperCase()"
                        >
                </div>
                <div class="col-md-2 form-group">
                    <label class="control-label">ZIP</label>
                    <input type="text" (blur)="onBlurMethod('req')" placeholder="_____-____" id="ZIP"
                        class="form-control" maxlength="9"
                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57) || (event.keyCode == 8) || (event.keyCode == 9)"
                        [(ngModel)]="GurantorModel.Response.Guarant_Zip">
                </div>
                <div class="col-sm-3 col-md-3 col-lg-2">
                    <label class="control-label">City</label>
                    <input type="text" disabled placeholder="" id="Guarant_City" class="form-control" maxlength="20"
                        [(ngModel)]="GurantorModel.Response.Guarant_City"
                        onkeypress="return (event.charCode >= 65 && event.keyCode <= 90) || (event.charCode >= 97 && event.keyCode <= 122) || (event.keyCode == 8) || (event.keyCode == 9)">
                </div>
                <div class="col-lg-1 col-md-3 form-group">
                    <label class="control-label">State</label>
                    <input type="text" placeholder="" class="form-control"
                        [(ngModel)]="GurantorModel.Response.Guarant_State" disabled />
                </div>
                <div class="col-lg-2 col-md-3 form-group">
                    <label class="control-label">SSN</label>
                    <input type="text" placeholder="" id="SSN" class="form-control"
                        [(ngModel)]="GurantorModel.Response.Guarant_Ssn" maxlength="9"
                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57) || (event.keyCode == 8) || (event.keyCode == 9)">
                </div>
                <div class="col-lg-2 col-md-3 form-group">
                    <label class="control-label">Home Phone</label>
                    <input type="text" placeholder="(___) ___-____" mask="(000) 000 00 00" id="homeph"
                        class="form-control" maxlength="15" [(ngModel)]="GurantorModel.Response.Guarant_Home_Phone"
                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57) || (event.keyCode == 8) || (event.keyCode == 9)">
                </div>
                <div class="col-lg-2 col-md-3 form-group">
                    <label class="control-label">Work Phone</label>
                    <input type="text" placeholder="(___) ___-____" mask="(000) 000 00 00" id="workph"
                        class="form-control" maxlength="15" [(ngModel)]="GurantorModel.Response.GUARANT_Work_Phone"
                        onkeypress="return (event.charCode >= 48 && event.charCode <= 57) || (event.keyCode == 8) || (event.keyCode == 9)">
                </div>

                <div class="col-lg-2 col-md-3 form-group">
                    <label class="control-label">Type</label>
                    <select class="form-control" [(ngModel)]="GurantorModel.Response.Guarant_Type">
                        <option value="G">Guarantor</option>
                        <option value="S">Subscriber</option>
                        <option value="B">Both</option>
                    </select>
                </div>
                <div class="col-md-3 pl0 pr0">
                    <!-- <div class="col-md-4 pl0 pr0">
              <label class=" pl0 pr0 control-label text-right2">DOB:</label>
            </div> -->
                    <div class="col-md-8 pl0 pr0">
                        <label class="control-label">DOB</label>
                        <my-date-picker [options]="myDatePickerOptions" (keyup)="dateMaskGS($event)"
                            [placeholder]="placeholderGS" [selDate]="GurantorModel.Response.Guarant_Dob" required
                            (dateChanged)="onDateChangedDOBAddUpdate($event)">
                        </my-date-picker>
                    </div>
                </div>
                <div class="form-group col-md-12  right-full row">
                    <div class="col-smd-12 text-right m-t-md pl0" pr0>
                        <button class="btn btn-white" type="submit" (click)="canSave()">Save</button>
                        <button class="btn btn-primary" (click)="EnableDisableModifierElements('Cancel')"
                            type="submit">Cancel</button>
                    </div>
                </div>
            </div>
        </fieldset>

        <div class="table-panel margin-b20" *ngIf="!isEdit">
            <div class="table-panel-head">
                <h5 class="table-heading pull-left">Guarantor</h5>
                <div class="clearfix"></div>
            </div>
            <div class="table-panel-body">
                <div class="row margin-b10">
                </div>
                <div class="hr-line-solid left-full"></div>
                <div style="margin: auto; margin-bottom: 50px;">
                    <div class="">
                        <table class="table table-striped table-hover table-bordered dataTableGuarantor" width="100%">
                            <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Last Name</th>
                                    <th>First Name</th>
                                    <th>Address</th>
                                    <th>City</th>
                                    <th>State</th>
                                    <th>ZIP</th>
                                    <th>DOB</th>
                                    <th>Phone</th>
                                    <th>Created By</th>
                                    <th>Created Date</th>
                                    <th width="80">Action</th>
                                </tr>
                            </thead>
                            <tbody class="row-selected">
                                <tr style="cursor:pointer;" *ngFor="let p of RequestModel let ndx=index;"
                                    [class.selected]="ndx === selectedGuarantor"
                                    (dblclick)="FillGurantor(p.Guarant_Lname,p.Guarant_Fname,p.Guarantor_Code)">

                                    <td style="text-align:left; cursor:pointer;color:blue;">{{p.Guarantor_Code}}</td>
                                    <td style="text-align:left;">{{p.Guarant_Lname}}</td>
                                    <td>{{p.Guarant_Fname}}</td>
                                    <td [attr.title]="p.Guarant_Address" style="width:1%;">{{p.Guarant_Address |
                                        shortString:40}}</td>
                                    <td>{{p.Guarant_City}}</td>
                                    <td>{{p.Guarant_State}}</td>
                                    <td>{{p.Guarant_Zip}}</td>
                                    <td style="text-align:center;">{{p.Guarant_Dob| date: 'MM/dd/yyyy'}}</td>
                                    <td style="text-align:left">{{p.Guarant_Home_Phone| mask:'(000) 0000-000'}}</td>
                                    <td style="text-align:left;">{{p.created_by}}</td>
                                    <td style="text-align:center;">{{p.created_date| date: 'MM/dd/yyyy'}}</td>
                                    <td>
                                        <div class="btn-group">
                                            <button class="btn-white btn btn-xs gridbtn"
                                                (click)="ModifyGuarantorinfo(ndx)" title="Modify">Edit</button>

                                            <button class="btn-white btn btn-xs gridbtn" (click)="DeleteGurantor(ndx)"
                                                title="Delete">Delete</button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade modal-primary" id="errorPopup_PS" tabindex="-1" style="display:none;" role="dialog"
    aria-labelledby="" data-backdrop="static">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" aria-label="Close"><i class="app-icon-IconSet-1-12"></i></button>
                <h4 class="modal-title" id="ErrorHead_PS">Guarantor Setup</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-2 text-center">
                        <i class="app-icon-IconSet-1-99 text-danger fs-32"></i>
                    </div>
                    <div class="col-md-10">
                        <h4 class="margin-0 padding-t10" id="ErrorMsg_PS">Error Occured</h4>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="form-control">Close</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade modal-primary" id="websoft-confirm-modal" tabindex="-1" role="dialog" aria-labelledby=""
    data-backdrop="static">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i
                        class="app-icon-IconSet-1-12"></i></button>
                <h4 class="modal-title" id="ConfirmHead"></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-2 text-center">
                        <i class="app-icon-IconSet-1-99 text-danger fs-32"></i>
                    </div>
                    <div class="col-md-10">
                        <h4 class="margin-0 padding-t10" id="ConfirmMsg"></h4>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-ws-default" data-dismiss="modal">Yes</button>
                <button type="button" class="btn btn-ws-default" data-dismiss="modal">No</button>
            </div>

        </div>
    </div>

</div>